import{_ as b,i as f,u as v,j as I,k as w,r as p,o as a,c,l as y,a as t,t as r,d as l,h as k,b as d,F as u,p as S,n as N,N as x}from"./index-0a367493.js";import{a as D}from"./axios-4a70c6fc.js";import{P as B}from"./PageTitleWithButton-67b58c5d.js";import{U as C}from"./User_Footer_Menu-fd2d380d.js";const U={name:"IncidentCard",setup(){const e=f({}),n=v();console.log("Route ID:",n.params.id),I(()=>n.params.id,async o=>{if(console.log("Route ID from inside:",n.params.id),o)try{const i=await D.get(`/api/incident/${o}`);e.value=i.data,console.log("Data fetched:",i.data)}catch(i){console.error("There was an error fetching the data:",i)}},{immediate:!0});const _=w(()=>Object.keys(e.value).length===0);return{incident:e,isLoading:_}}},s=e=>(S("data-v-cb2e74d8"),e=e(),N(),e),R={key:0},T=["incidentId"],V={class:"row"},F={class:"badge bg-info-subtle text-dark"},L={class:"btn-group float-end",role:"group"},j=s(()=>t("button",{type:"button",class:"btn btn-outline-dark dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1)),E={class:"dropdown-menu"},M={class:"row g-2"},P={class:"col"},A=s(()=>t("p",null,'Reporter: "dummy"',-1)),O={key:0},W=s(()=>t("b",null,"solved",-1)),q={key:1},z=s(()=>t("b",null,"open",-1)),G=s(()=>t("p",null,'Tags: "dummy"',-1)),H=s(()=>t("p",null,'Priority: "dummy"',-1)),J=s(()=>t("div",{class:"col"},null,-1));function K(e,n,_,o,i,X){const m=p("StatusNewUpdate"),h=p("StatusUpdates");return a(),c(u,null,[o.isLoading?(a(),c("div",R,"Loading...")):y("",!0),t("div",{class:"container-sm mt-3 border border-light-subtle rounded shadow p-4",incidentId:e.incidentId},[t("div",V,[t("h3",null,[t("span",F,r(o.incident.id),1),l(" "+r(o.incident.titel)+" ",1),t("div",L,[j,t("ul",E,[t("a",{class:"dropdown-item",href:"#",id:"edit",onClick:n[0]||(n[0]=k((...g)=>e.editIncident&&e.editIncident(...g),["stop"]))},"Edit")])])])]),t("div",M,[t("div",P,[t("p",null,[l("Description: "),t("b",null,r(o.incident.description),1)]),t("p",null,"Reportdate: "+r(o.incident.reportdate),1),A,o.incident.isSolved?(a(),c("p",O,[l(" Status: "),W])):(a(),c("p",q,[l(" Status: "),z])),G,H]),J])],8,T),d(m),d(h)],64)}const Q=b(U,[["render",K],["__scopeId","data-v-cb2e74d8"]]),et={__name:"Incident_Detail_View",setup(e){return(n,_)=>(a(),c(u,null,[d(x),d(B,{msg:"Incident Details",destination:"/incidents",buttonText:"Back to list"}),d(Q),d(C)],64))}};export{et as default};
